{
  "test": "api_client",
  "passed": true,
  "score": 7,
  "thinking_time": 221.3933069705963,
  "indicators": {
    "has_client_class": true,
    "has_http_methods": true,
    "has_auth": true,
    "has_retry": false,
    "has_rate_limit": true,
    "has_exceptions": true,
    "has_type_hints": true,
    "has_docstrings": true
  },
  "response": "```python\nimport requests\nimport time\nfrom datetime import datetime\n\nclass APIError(Exception):\n    \"\"\"Base class for API errors.\"\"\"\n    def __init__(self, message: str, response: dict = None):\n        super().__init__(message)\n        self.response = response\n\nclass Unauthorized(APIError):\n    \"\"\"Raised when the request is unauthorized.\"\"\"\n    pass\n\nclass RateLimitExceeded(APIError):\n    \"\"\"Raised when the rate limit is exceeded.\"\"\"\n    pass\n\nclass APIClient:\n    def __init__(self, base_url: str, auth_type: str = 'bearer', api_key: str = None, bearer_token: str = None, rate_limit: int = 60):\n        self.base_url = base_url\n        self.auth_type = auth_type\n        self.api_key = api_key\n        self.bearer_token = bearer_token\n        self.rate_limit = rate_limit\n        self.session = requests.Session()\n        self.last_minute = -1\n        self.request_count = 0\n\n    def _build_headers(self) -> dict:\n        headers = {}\n        if self.auth_type == 'bearer':\n            headers['Authorization'] = f'Bearer {self.bearer_token}'\n        elif self.auth_type == 'api_key':\n            headers['Authorization'] = f'Bearer {self.api_key}'\n        headers['Accept'] = 'application/vnd.github.v3+json'\n        return headers\n\n    def _rate_limit_check(self):\n        current_time = datetime.now()\n        current_minute = current_time.minute\n        if current_minute != self.last_minute:\n            self.last_minute = current_minute\n            self.request_count = 1\n        else:\n            self.request_count += 1\n        if self.request_count > self.rate_limit:\n            wait_time = 60 - (current_time.second + current_time.microsecond / 1e6)\n            time.sleep(wait_time)\n            self.request_count = 1\n\n    def _make_request(self, method: str, url: str, **kwargs) -> requests.Response:\n        retries = 0\n        max_retries = 3\n        while retries <= max_retries:\n            try:\n                self._rate_limit_check()\n                headers = self._build_headers()\n                kwargs['headers'] = headers\n                response = self.session.request(method, url, **kwargs)\n                response.raise_for_status()\n                return response\n            except (requests.ConnectionError, requests.Timeout) as e:\n                retries += 1\n                if retries > max_retries:\n                    raise\n                wait_time = 2 ** retries\n                time.sleep(wait_time)\n            except requests.HTTPError as e:\n                status_code = e.response.status_code\n                if status_code >= 500:\n                    retries += 1\n                    if retries > max_retries:\n                        raise\n                    wait_time = 2 ** retries\n                    time.sleep(wait_time)\n                else:\n                    if status_code == 401:\n                        raise Unauthorized(f\"Unauthorized: {e.response.text}\")\n                    elif status_code == 429:\n                        raise RateLimitExceeded(f\"Rate limit exceeded: {e.response.text}\")\n                    else:\n                        raise APIError(f\"API Error {status_code}: {e.response.text}\", response=e.response.json())\n        return response\n\n    def get(self, url: str, params: dict = None) -> dict:\n        \"\"\"Send a GET request to the specified URL.\"\"\"\n        response = self._make_request('GET', url, params=params)\n        return response.json()\n\n    def post(self, url: str, data: dict = None, json: dict = None) -> dict:\n        \"\"\"Send a POST request to the specified URL.\"\"\"\n        response = self._make_request('POST', url, json=json, data=data)\n        return response.json()\n\n    def put(self, url: str, data: dict = None, json: dict = None) -> dict:\n        \"\"\"Send a PUT request to the specified URL.\"\"\"\n        response = self._make_request('PUT', url, json=json, data=data)\n        return response.json()\n\n    def delete(self, url: str, params: dict = None) -> dict:\n        \"\"\"Send a DELETE request to the specified URL.\"\"\"\n        response = self._make_request('DELETE', url, params=params)\n        return response.json()\n\nclass GitHubAPI(APIClient):\n    def __init__(self, auth_type: str = 'bearer', api_key: str = None, bearer_token: str = None, rate_limit: int = 60):\n        super().__init__('https://api.github.com', auth_type, api_key, bearer_token, rate_limit)\n\n    def list_user_repositories(self, username: str) -> list:\n        \"\"\"List repositories for the specified user.\"\"\"\n        url = f\"{self.base_url}/users/{username}/repos\"\n        response = self.get(url)\n        return response\n\n    def get_repository_details(self, owner: str, repo: str) -> dict:\n        \"\"\"Get details for the specified repository.\"\"\"\n        url = f\"{self.base_url}/repos/{owner}/{repo}\"\n        response = self.get(url)\n        return response\n\n    def create_issue(self, owner: str, repo: str, title: str, body: str = None) -> dict:\n        \"\"\"Create an issue in the specified repository.\"\"\"\n        url = f\"{self.base_url}/repos/{owner}/{repo}/issues\"\n        data = {\n            'title': title,\n            'body': body\n        }\n        response = self.post(url, json=data)\n        return response\n```"
}